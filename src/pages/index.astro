---
import BaseLayout from '../layouts/BaseLayout.astro';
import CategoryFilter from '../components/CategoryFilter.astro';
import LanguageFilter from '../components/LanguageFilter.astro';
import DateGroupedArticles from '../components/DateGroupedArticles.astro';
import ViewToggle from '../components/ViewToggle.astro';
import type { Article } from '../types/article';

import articlesData from '../data/articles.json';
const articles = articlesData as Article[];
---

<BaseLayout title="ホーム">
  <div class="space-y-6">
    <div>
      <h1 class="text-2xl font-bold mb-4">最新ニュース</h1>
      <div class="space-y-3">
        <CategoryFilter />
        <LanguageFilter />
      </div>
    </div>

    <div class="flex items-center justify-between">
      <p class="text-sm text-gray-500" data-article-count>{articles.length}件の記事</p>
      <ViewToggle />
    </div>

    <DateGroupedArticles articles={articles} />
  </div>
</BaseLayout>
